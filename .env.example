# FunASR-API 环境变量配置
# 复制为 .env 并修改

# ===========================================
# 模型启动配置（核心）
# ===========================================
#   auto = 自动检测，加载 Paraformer + 合适 Qwen（默认）
#   all  = 加载所有可用模型
#   其他 = 逗号分隔精确指定，如 "paraformer-large" 或 "qwen3-asr-0.6b"
# ENABLED_MODELS=auto

# ===========================================
# 服务器配置（可选）
# ===========================================
# NGINX_PORT=17003
# IMAGE=quantatrisk/funasr-api:gpu-latest
# NGINX_RATE_LIMIT_RPS=0        # 全局每秒请求上限，0 表示关闭
# NGINX_RATE_LIMIT_BURST=0      # 全局突发请求数，0 时自动使用 RPS 值

# ===========================================
# 多卡实例自动扩展（GPU）
# ===========================================
# NVIDIA_VISIBLE_DEVICES=0,1,2,3    # 单卡示例: 0，多卡示例: 0,1,2,3（多卡将自动拉起多实例）

# ===========================================
# 性能配置
# ===========================================
# ASR_BATCH_SIZE=4           # 批处理大小，建议 2-8
# ASR_ENABLE_LM=true         # 是否启用语言模型（Paraformer）
# ENABLE_STREAMING_VLLM=false  # 是否加载流式 VLLM 实例（额外显存）

# ===========================================
# 音频处理
# ===========================================
# MAX_AUDIO_SIZE=2048        # 最大音频大小，单位 MB
# MAX_SEGMENT_SEC=30.0       # 长音频触发 VAD 分割阈值（秒）
# ASR_ENABLE_NEARFIELD_FILTER=true  # 远场过滤

# ===========================================
# 鉴权配置
# ===========================================
# 生成API_KEY参考命令: openssl rand -hex 32
# API_KEY=your_api_key_here  # 未配置时鉴权可选

# ===========================================
# 离线模式（内网/无网络必需）
# ===========================================
# HF_HUB_OFFLINE=1
# 大陆地区可使用代理站点下载模型
# HF_ENDPOINT=https://hf-mirror.com

# ===========================================
# 日志配置
# ===========================================
# LOG_LEVEL=INFO
# LOG_FILE=logs/funasr-api.log
